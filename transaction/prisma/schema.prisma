datasource db {
  // could be postgresql or mysql
  provider = "postgresql"
  url      = "postgres://postgres.fxselsmgvmysikytlrae:C9NCSN8bhztwFbmf@aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres"
}

generator db {
  provider = "go run github.com/steebchen/prisma-client-go"
}


model Transaction {
    id                     Int                @id @default(autoincrement())
    userId                Int
    amount                Int
    toAddress              String
    currency              String
    TransactionHistory    TransactionHistory[]
}


model TransactionHistory {
  id                Int   @id @default(autoincrement())
  transaction       Transaction @relation(fields: [transactionId], references: [id])
  transactionId     Int
  status            String
}

model Deposit {
  id        Int                @id @default(autoincrement())
  userId    Int
  amount    Int
  WithDraw WithDraw[]
  DepositTransaction DepositTransaction[]
}

model WithDraw {
    id        Int                @id @default(autoincrement())
    charge  Int
    userId    Int
    deposit   Deposit               @relation(fields: [depositId], references: [id])
    depositId    Int
}

model DepositTransaction {
     id        Int                @id @default(autoincrement())
     amount    Int
     deposit   Deposit               @relation(fields: [depositId], references: [id])
    depositId    Int
}




